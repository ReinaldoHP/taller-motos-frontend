<form [formGroup]="registerForm" (ngSubmit)="register()">
  <div>
    <label for="name">Nombre</label>
    <input
      type="text"
      id="name"
      formControlName="name"
      [class.is-invalid]="registerForm.get('name')?.invalid && registerForm.get('name')?.touched"
    />
    <div *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched" class="error-message">
      <span *ngIf="registerForm.get('name')?.hasError('required')">El nombre es obligatorio.</span>
      <span *ngIf="registerForm.get('name')?.hasError('maxlength')">El nombre es demasiado largo.</span>
    </div>
  </div>

  <div>
    <label for="email">Correo Electrónico</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      [class.is-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
    />
    <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error-message">
      <span *ngIf="registerForm.get('email')?.hasError('required')">El correo electrónico es obligatorio.</span>
      <span *ngIf="registerForm.get('email')?.hasError('email')">Debe ser un correo electrónico válido.</span>
    </div>
  </div>

  <div>
    <label for="password">Contraseña</label>
    <input
      type="password"
      id="password"
      formControlName="password"
      [class.is-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
    />
    <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error-message">
      <span *ngIf="registerForm.get('password')?.hasError('required')">La contraseña es obligatoria.</span>
      <span *ngIf="registerForm.get('password')?.hasError('minlength')">La contraseña debe tener al menos 6 caracteres.</span>
    </div>
  </div>

  <button type="submit" [disabled]="registerForm.invalid">Registrar</button>

  <div *ngIf="errorMessage" class="error-message">
    <p>{{ errorMessage }}</p>
  </div>
</form>
